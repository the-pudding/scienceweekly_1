/* CUSTOM STORY STYLE */

body
  overflow hidden

.story
  position absolute
  width 100%
  height 100vh
  display flex
  align-items center
  background-image url('assets/images/lab.jpg')
  background-repeat repeat-x
  background-size auto 100%
  background-position center

  &.is-chart
    background transparent

  &.is-methods
    background  $off-black

    .chart-static-meta
      background  $off-black

      p, span
        color $white

      a
        color $white
        border-bottom 1px solid $white

.p-1
    display: none
    +mq('bp-4')
        display: block
.p-2
    display: none
    +mq('bp-4')
        display: block



.prose-para
    margin-top 0    

    p
      set-type-size('small', true)
      line-height 1.25rem
      margin 1rem 0
      +mq('bp-3')
        set-type-size('medium', true)
        line-height 2rem
      +mq('bp-4')
        set-type-size('large', true)
        line-height 2.5rem

        span
          font-family $sans-display
          font-weight 600
          text-transform uppercase
          set-type-size('xxx-large', true)

.part-1, .part-3, .part-5
  p
    &:last-of-type

      &::before
        content ''
        display block
        width 12rem
        border-top 2px solid $red
        margin 2rem 0 0.5rem 0
        +mq('bp-4')
          margin 4rem 0 0.5rem 0
        +mq('bp-4')
          margin 6rem 0 0.5rem 0

    span
      font-family $sans-display
      font-weight 600
      text-transform uppercase
      set-type-size('x-large', true)
      line-height 1.5rem
      +mq('bp-3')
        line-height 2rem
        set-type-size('xx-large', true)
      +mq('bp-4')
        set-type-size('xx-large', true)

.nav-bar
    z-index set-index('overlay')
    display flex
    position absolute
    // bottom 0rem
    top 50%
    transform translate(0,-50%)
    width 100%
    margin 0 auto
    flex-direction row
    justify-content center
    align-items center
    +mq('bp-4')
        z-index set-index('overlay')
        display flex
        position absolute
        bottom 0rem
        width 100%
        margin 0 auto
        flex-direction row
        justify-content center
        align-items center
        top auto
        transform translate(0,0)

    &.is-chart
      .current-slide-num
        color $off-black
        text-shadow none

    &.hidden
      display none

.current-slide-num
    margin 0 1rem 3.5rem 0
    set-type-size('x-large', true)
    color $white
    text-shadow $off-black 1px 0 10px
    font-family $sans-display
    font-weight 600
    letter-spacing 2px
    width 4rem
    text-align center
    visibility: hidden
    +mq('bp-4')
        visibility: visible

.nav-btn-img
    height 1rem
    width auto
    vertical-align: bottom
    cursor pointer

.btn-back
    position absolute
    left 1rem
    bottom 1rem
    display flex
    flex-direction column
    justify-content center
    align-items center
    cursor pointer
    background-color $red
    border-radius 50%
    width 2rem
    height 2rem
    +mq('bp-4')
        position absolute
        left 3rem
        bottom 3rem
        display flex
        flex-direction column
        justify-content center
        align-items center
        cursor pointer
        background-color $red
        border-radius 50%
        width 3.5rem
        height 3.5rem


    &:hover
        +mq('bp-4')
            transform: scale(1.2)

    svg
      stroke $white
      width 60%
      height 60%

.btn-fwd
    position absolute
    right 1rem
    bottom 1rem
    display flex
    flex-direction column
    justify-content center
    align-items center
    cursor pointer
    background-color $red
    border-radius 50%
    width 2rem
    height 2rem
    +mq('bp-4')
        position absolute
        right 3rem
        bottom 3rem
        display flex
        flex-direction column
        justify-content center
        align-items center
        cursor pointer
        background-color $red
        border-radius 50%
        width 3.5rem
        height 3.5rem

    &:hover
        +mq('bp-4')
            transform: scale(1.2)

    svg
      stroke $white
      width 60%
      height 60%

    &.is-disabled
      background-color $gray
      cursor none

      &:hover
        transform: scale(1)

.spin-imgs
  width 100%
  display flex
  flex-direction column
  flex-wrap wrap
  +mq('bp-5')
    flex-direction row

  .img-wrap
    width 100%
    margin 0.5rem 0
    background-color $white
    padding 1rem
    border-top 2px solid $red
    box-shadow 5px 5px 10px $gray-light
    +mq('bp-5')
      width calc(50% - 1rem)
      margin 0.5rem

    &.hide
      display none
      +mq('bp-5')
        display block

.chart-nav
    display: flex
    flex-direction: row
    justify-content: space-around

.chart-fig
    display: flex
    flex-wrap: wrap

.sentence
    display inline
    fill $gray-dark
    font-size 2px
    +mq('bp-4')
        // display inline
        fill $gray-dark
        font-size 6px

.sentence-box
    text-align justify
    margin-bottom: 0.5rem
    font-family: $mono      
    border-top-style: dashed 
    border-bottom-style: dashed 
    border-top-color: #b1afaf;
    border-bottom-color: #b1afaf;
    border-bottom-width: 1px;
    border-top-width: 1px;  
    margin-top 0.5rem
    +mq('bp-4')
        text-align justify
        margin-bottom: 0.5rem
        font-family: $mono      
        border-top-style: dashed 
        border-bottom-style: dashed 
        border-top-color: #b1afaf;
        border-bottom-color: #b1afaf;
        border-bottom-width: 1px;
        border-top-width: 1px;  
    

.sneaky-span
    position: absolute
    top 0
    left -100%

.chart-static
    position relative
    width 100%
    height 100vh
    margin -5rem auto 0 auto
    padding 0

.chart-static-meta
    position absolute
    max-width 50rem
    left 50%
    top 50%
    transform translate(-50%, -50%)
    width 85%
    padding 0.5rem 1.5rem 0.5rem 1.5rem
    background-color rgba($white, 0.9)
    z-index 850
    margin 0 auto
    -webkit-box-shadow: 4px 4px 9px -2px rgba(0,0,0,0.11);
    -moz-box-shadow: 4px 4px 9px -2px rgba(0,0,0,0.11);
    box-shadow: 4px 4px 9px -2px rgba(0,0,0,0.11);
    +mq('bp-3')
        width 80%
        padding 3rem
    +mq('bp-4')
        width 60%

.chart-dynamic
  padding 1rem
  position absolute
  width 100%

.chart-dynamic-legend
  opacity 0
  margin 3rem auto 1rem auto
  +mq('bp-4')
    opacity 0
    margin 3rem auto 2rem auto

  &.is-visible
    opacity 1

.chart-static-title
    text-align: left
    font-family: 'Tinos'
    font-size 24px
    font-weight: 600
    margin-top 0
    margin-bottom 0.5em

.chart-static-img
    width 100%
    height auto

.legend
    margin 0 auto
    max-width: 15rem


.legend-title
    text-align: center
    margin 0
    font-family: $mono
    font-weight: 600
    set-type-size('x-small', true)
    +mq('bp-4')
        text-align: center
        margin 0
        font-family: $mono
        font-weight: 600
        set-type-size('small', true)

.legend-item-container
    display: flex
    flex-direction: row
    justify-content: space-evenly
    margin 0

.legend-item-labels-container
    display: flex
    flex-direction: row
    justify-content: space-evenly
    margin 0

.legend-item
    flex-grow: 1
    text-align: center
    font-size: 8px

.legend-item-text
    font-family: 'Arial'
    flex-grow: 1
    text-align: center
    set-type-size('x-small', true)

.hidden
    display none

.methods
    max-width $column-width
    margin 0 auto

    span
      font-family $sans-display
      font-weight 600
      text-transform uppercase
      set-type-size('large', true)

.prose
  padding 0
